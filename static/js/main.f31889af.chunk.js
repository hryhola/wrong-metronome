(this["webpackJsonpwrong-metronome"]=this["webpackJsonpwrong-metronome"]||[]).push([[0],{152:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(9),r=n.n(o),i=(n(72),n(24)),s=(n(73),n(74),n(75),n(19)),u=new Worker("bpm-worker.js"),l=new(window.AudioContext||window.webkitAudioContext);var m=function(){var e=Object(a.useRef)({"beat.mp3":null}),t=Object(a.useState)(120),n=Object(i.a)(t,2),o=n[0],r=n[1],m=Object(a.useState)(!0),p=Object(i.a)(m,2),d=p[0],f=p[1],h=Object(a.useState)("high-tick.mp3"),b=Object(i.a)(h,2),g=b[0],v=b[1],E=Object(a.useState)(5),k=Object(i.a)(E,2),y=k[0],w=k[1],j=Object(a.useState)(!1),O=Object(i.a)(j,2),S=O[0],C=O[1];return Object(a.useEffect)((function(){e.current[g]||fetch("http://localhost:3000/".concat(g)).then((function(e){return e.arrayBuffer()})).then((function(e){return l.decodeAudioData(e)})).then((function(t){e.current[g]=t}))}),[g]),Object(a.useEffect)((function(){u.onmessage=function(t){switch(t.data.type){case"beep":!function(e){var t=l.createBufferSource();t.buffer=e,t.connect(l.destination),t.start()}(e.current[g])}}})),Object(a.useEffect)((function(){var e={};document.addEventListener("keydown",(function(t){e[t.key]=!0,e.q&&e.e&&e.t&&C(!0)})),document.addEventListener("keyup",(function(t){delete e[t.key]}))})),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"bpm-title"},c.a.createElement("h1",null,o," bpm")),c.a.createElement("div",{className:"bpm-slider-container"},c.a.createElement(s.c,{className:"bpm-slider",start:[o],range:{min:30,max:250},theme:"secondary",pips:{mode:"steps",stepped:!0,density:10},onSlide:function(e){r(parseInt(e[0]))},onChange:function(e){u.postMessage({type:"set_bpm",value:parseInt(e[0])}),console.log(parseInt(e[0]))}}),c.a.createElement("div",{className:"controls"},c.a.createElement(s.a,{className:"button-toggle",theme:"secondary",onClick:function(){f(!d),u.postMessage({type:"toggle_playing"})}},"Stop/Play"),c.a.createElement(s.b,{theme:"secondary",name:"beat",checked:"beat.mp3"===g,onChange:function(){return v("beat.mp3")}},"Side stick"),c.a.createElement(s.b,{theme:"secondary",name:"beat",checked:"high-tick.mp3"===g,onChange:function(){return v("high-tick.mp3")}},"High tick"),c.a.createElement(s.b,{theme:"secondary",name:"beat",checked:"mafiozi.mp3"===g,onChange:function(){return v("mafiozi.mp3")}},"Mafiozi"),c.a.createElement(s.b,{theme:"secondary",name:"beat",checked:"gachi.flac"===g,onChange:function(){return v("gachi.flac")}},"Gachi"),S&&c.a.createElement("div",{className:"tilt"},c.a.createElement("span",{className:"tilt-title"},"Tilt (margin of error): "),c.a.createElement("input",{className:"tilt-input",type:"number",value:y,onChange:function(e){var t=e.target;+t.value<0||+t.value>200||(w(parseInt(t.value)),u.postMessage({type:"set_tilt",value:parseInt(t.value)}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,n){e.exports=n(152)},72:function(e,t,n){},73:function(e,t,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.f31889af.chunk.js.map