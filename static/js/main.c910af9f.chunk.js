(this["webpackJsonpwrong-metronome"]=this["webpackJsonpwrong-metronome"]||[]).push([[0],{152:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(9),r=n.n(o),i=(n(72),n(24)),s=(n(73),n(74),n(75),n(19)),u="https://hryhola.github.io/wrong-metronome",m=new Worker("".concat(u,"/bpm-worker.js")),l=new(window.AudioContext||window.webkitAudioContext);var p=function(){var e=Object(a.useRef)({"beat.mp3":null}),t=Object(a.useState)(120),n=Object(i.a)(t,2),o=n[0],r=n[1],p=Object(a.useState)(!0),d=Object(i.a)(p,2),h=d[0],f=d[1],b=Object(a.useState)("high-tick.mp3"),g=Object(i.a)(b,2),v=g[0],y=g[1],E=Object(a.useState)(5),k=Object(i.a)(E,2),w=k[0],j=k[1],O=Object(a.useState)(!1),S=Object(i.a)(O,2),C=S[0],N=S[1];return Object(a.useEffect)((function(){e.current[v]||fetch("".concat(u,"/").concat(v)).then((function(e){return e.arrayBuffer()})).then((function(e){return l.decodeAudioData(e)})).then((function(t){e.current[v]=t}))}),[v]),Object(a.useEffect)((function(){m.onmessage=function(t){switch(t.data.type){case"beep":!function(e){var t=l.createBufferSource();t.buffer=e,t.connect(l.destination),t.start()}(e.current[v])}}})),Object(a.useEffect)((function(){var e={};document.addEventListener("keydown",(function(t){e[t.key]=!0,e.q&&e.e&&e.t&&N(!0)})),document.addEventListener("keyup",(function(t){delete e[t.key]}))})),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"bpm-title"},c.a.createElement("h1",null,o," bpm")),c.a.createElement("div",{className:"bpm-slider-container"},c.a.createElement(s.c,{className:"bpm-slider",start:[o],range:{min:30,max:250},theme:"secondary",pips:{mode:"steps",stepped:!0,density:10},onSlide:function(e){r(parseInt(e[0]))},onChange:function(e){m.postMessage({type:"set_bpm",value:parseInt(e[0])}),console.log(parseInt(e[0]))}}),c.a.createElement("div",{className:"controls"},c.a.createElement(s.a,{className:"button-toggle",theme:"secondary",onClick:function(){f(!h),m.postMessage({type:"toggle_playing"})}},"Stop/Play"),c.a.createElement(s.b,{theme:"secondary",name:"beat",checked:"beat.mp3"===v,onChange:function(){return y("beat.mp3")}},"Side stick"),c.a.createElement(s.b,{theme:"secondary",name:"beat",checked:"high-tick.mp3"===v,onChange:function(){return y("high-tick.mp3")}},"High tick"),c.a.createElement(s.b,{theme:"secondary",name:"beat",checked:"mafiozi.mp3"===v,onChange:function(){return y("mafiozi.mp3")}},"Mafiozi"),c.a.createElement(s.b,{theme:"secondary",name:"beat",checked:"gachi.flac"===v,onChange:function(){return y("gachi.flac")}},"Gachi"),C&&c.a.createElement("div",{className:"tilt"},c.a.createElement("span",{className:"tilt-title"},"Tilt % (margin of error): "),c.a.createElement("input",{className:"tilt-input",type:"number",value:w,onChange:function(e){var t=e.target;+t.value<0||+t.value>200||(j(parseInt(t.value)),m.postMessage({type:"set_tilt",value:parseInt(t.value)}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,n){e.exports=n(152)},72:function(e,t,n){},73:function(e,t,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.c910af9f.chunk.js.map